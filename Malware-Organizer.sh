#!/bin/bash

cp Malware-Organizer.sh /bin/

mkdir /root/MOS-tpot/Cowrie-Download-File > /dev/null 2>&1
sleep .1

echo "Copying Cowrie Downloaded Data..."
sleep .1
cp /data/cowrie/downloads.tgz /root/MOS-tpot/Cowrie-Download-File/ > /dev/null 2>&1
sleep 2s

echo "Unzipping downloads.tgz..."
sleep .1
gzip -d /root/MOS-tpot/Cowrie-Download-File/downloads.tgz
tar -xvf /root/MOS-tpot/Cowrie-Download-File/downloads.tgz > /dev/null 2>&1
mv data/ Cowrie-Download-File/
sleep 1s

echo "Creating Required File Structure..."
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-organizer-file-creator.sh > /dev/null 2>&1
sleep 1s

echo "Organizing and Moving Files to Proper Directories..."
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-initial-file-organizer.sh > /dev/null 2>&1
sleep 1s

echo "Differentiating Between Crypto-Bots and Executables..."
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-second-file-organizer.sh > /dev/null 2>&1
sleep 1s

echo "Identifying Known Crypto-Bots and Organizing..."
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-third-file-organizer.sh > /dev/null 2>&1

echo "Separating and Organizing Executables..."
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-fourth-file-organizer.sh > /dev/null 2>&1


echo "Looking for Scripts..."
echo "Separating Text Files and Possible Scripts!"
sleep 1s
bash /root/MOS-tpot/Organizer-Scripts/malware-fifth-file-organizer.sh > /dev/null 2>&1

echo "Organization Complete. Go into the 'Malware Files' directory to view results!"
